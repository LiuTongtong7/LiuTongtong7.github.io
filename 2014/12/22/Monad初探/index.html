
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu_union_verify" content="d1952c66cf48912e21c18c7c581f382a">
  <meta name="360-site-verification" content="67fbcc5a67f4c65c057315b28fa0b2c8" />
<meta name="google-site-verification" content="2GzxQ0VtXwTSUdmGm6DzcmhTzM_I9QmzCb_pzpMzD88" />
  
    <title>Monadåˆæ¢ | Neverland</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="Liu Tongtong">
    
    <meta name="description" itemprop="description" content="å‘å¤ªæ·±ã€‚ã€‚ã€‚å­¦å¥½æ•°å­¦çœŸé‡è¦ï¼ï¼ï¼">
    
    
    
    
    <link rel="alternate" href="/atom.xml" title="Neverland" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/neverland.ico">
    
    
    <link rel="stylesheet" href="/css/style.css">
    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            var _bdId ='d1b42de2d8628e947e54629dc9c3d3b1';
             hm.src = "//hm.baidu.com/hm.js?" + _bdId;
             var s = document.getElementsByTagName("script")[0]; 
             s.parentNode.insertBefore(hm, s);
        })();
    </script>
     
</head>

  <body>
    <header>
      <div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Neverland">Neverland</a></h1>
				<a class="blog-motto">Write the code. Change the world.</a>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="èœå•">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">ä¸»é¡µ</a></li>
					
						<li><a href="/archives">å½’æ¡£</a></li>
					
					<li>
					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="off" name="q" maxlength="20" placeholder="æœç´¢" />
					</form>
					
					</li>
				</ul>
                            </nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/12/22/Monadåˆæ¢/" title="Monadåˆæ¢" itemprop="url">Monadåˆæ¢</a>
  </h1>
  <p class="article-author">By
    
      <a href="https://plus.google.com/117570204459436230000?rel=author" title="Liu Tongtong" target="_blank" itemprop="author">Liu Tongtong</a>
    </p>
  <p class="article-time">
    <time datetime="2014-12-22T08:08:00.000Z" itemprop="datePublished">2014-12-22</time>
    æ›´æ–°æ—¥æœŸ:<time datetime="2014-12-22T08:17:06.000Z" itemprop="dateModified">2014-12-22</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">æ–‡ç« ç›®å½•</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¦‚å¿µè§£é‡Š"><span class="toc-number">1.</span> <span class="toc-text">æ¦‚å¿µè§£é‡Š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç±»å‹ç³»ç»Ÿ"><span class="toc-number">1.1.</span> <span class="toc-text">ç±»å‹ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡½æ•°ä¸å‡½å­"><span class="toc-number">1.2.</span> <span class="toc-text">å‡½æ•°ä¸å‡½å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå‡½æ•°ä¸è‡ªå‡½å­"><span class="toc-number">1.3.</span> <span class="toc-text">è‡ªå‡½æ•°ä¸è‡ªå‡½å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#èŒƒç•´"><span class="toc-number">1.4.</span> <span class="toc-text">èŒƒç•´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡½å­æ·±å…¥"><span class="toc-number">1.5.</span> <span class="toc-text">å‡½å­æ·±å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŠç¾¤ä¸å¹ºåŠç¾¤"><span class="toc-number">1.6.</span> <span class="toc-text">åŠç¾¤ä¸å¹ºåŠç¾¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Monad"><span class="toc-number">2.</span> <span class="toc-text">Monad</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå‡½å­èŒƒç•´"><span class="toc-number">2.1.</span> <span class="toc-text">è‡ªå‡½å­èŒƒç•´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤"><span class="toc-number">2.2.</span> <span class="toc-text">è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å°é—­æ€§"><span class="toc-number">2.2.1.</span> <span class="toc-text">å°é—­æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç»“åˆå¾‹"><span class="toc-number">2.2.2.</span> <span class="toc-text">ç»“åˆå¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å¹ºå…ƒ"><span class="toc-number">2.2.3.</span> <span class="toc-text">å¹ºå…ƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Monadæœ‰ä»€ä¹ˆç”¨"><span class="toc-number">3.</span> <span class="toc-text">Monadæœ‰ä»€ä¹ˆç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç¨‹åºç¤ºä¾‹"><span class="toc-number">4.</span> <span class="toc-text">ç¨‹åºç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å‚è€ƒèµ„æ–™"><span class="toc-number">5.</span> <span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
		</div>
		
		<p>æˆ‘è¯•å›¾ä»å¦‚ä¸‹çš„å®šä¹‰é‡Œçœ‹ç©¿Monadçš„çœŸç›¸ã€‚ä¸çŸ¥é“çœ¼åŠ›å¤Ÿä¸å¤Ÿäº†ğŸ˜‚</p>
<blockquote>
<p>A monad in X is just a monoid in the category of endofunctors of X, with product Ã— replaced by composition of endofunctors and unit set by the identity endofunctor.</p>
<p>Monadæ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ã€‚</p>
</blockquote>
<h2 id="æ¦‚å¿µè§£é‡Š"><a href="#æ¦‚å¿µè§£é‡Š" class="headerlink" title="æ¦‚å¿µè§£é‡Š"></a>æ¦‚å¿µè§£é‡Š</h2><p>é¦–å…ˆï¼Œå¯¹äºå¦‚ä¸‹ç›¸å…³çš„æ¦‚å¿µæˆ‘å°è¯•ç»™å‡ºæˆ‘è‡ªå·±çš„å®šä¹‰ã€‚</p>
<h3 id="ç±»å‹ç³»ç»Ÿ"><a href="#ç±»å‹ç³»ç»Ÿ" class="headerlink" title="ç±»å‹ç³»ç»Ÿ"></a>ç±»å‹ç³»ç»Ÿ</h3><p>Haskellçš„ç±»å‹ç³»ç»Ÿç›¸å½“å¤æ‚ã€‚ä¸åŒäºOOåªæ˜¯ä¸€å±‚æŠ½è±¡ï¼ŒHaskellæŠ½è±¡å¤šå¾—å¯æ€•ã€‚ç›®å‰æˆ‘ç»™å‡ºçš„åˆ†å±‚å¦‚ä¸‹ï¼š</p>
<p><img src="/BlogImages/Monadåˆæ¢/Monad_1.png" alt=""></p>
<p>ä»ä¸‹å¾€ä¸Šæ˜¯æŒ‰ç…§ä»å…·ä½“åˆ°æŠ½è±¡ã€‚é¦–å…ˆæ˜¯å…·ä½“çš„å€¼<code>Value</code>ï¼Œå…¶æ¬¡æ˜¯å°†<code>Value</code>æŠ½è±¡ä¸ºç‰¹å®šç±»å‹<code>Proper Type</code>ï¼Œç„¶å<code>Proper Type</code>åˆè¢«æŠ½è±¡ä¸ºé«˜é˜¶(åŒ…å«ä¸€é˜¶)ç±»å‹<code>Higher Order Type</code>ï¼Œæœ€åæ˜¯æœ€æŠ½è±¡çš„<code>kind</code>ã€‚è€Œ<code>Monad</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæ˜¯<code>kind</code>ä¸º<code>* -&gt; *</code>çš„ä¸€ç§ç±»å‹ç±»ã€‚</p>
<h3 id="å‡½æ•°ä¸å‡½å­"><a href="#å‡½æ•°ä¸å‡½å­" class="headerlink" title="å‡½æ•°ä¸å‡½å­"></a>å‡½æ•°ä¸å‡½å­</h3><blockquote>
<p>æ­¤å¤„çš„å‡½æ•°ç‹­ä¹‰åœ°ä»…æŒ‡Haskellé‡Œçš„æ–¹æ³•ï¼Œå³è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Proper Type</code>çš„ä¸€ä¸€æ˜ å°„</p>
</blockquote>
<p>å‡½æ•°<code>Function</code>æ˜¯æŒ‡è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Proper Type</code>çš„ä¸€ä¸€æ˜ å°„ï¼Œè€Œå‡½å­<code>Functor</code>æ˜¯æŒ‡è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Higher Order Type</code>çš„ä¸€ä¸€æ˜ å°„ã€‚å…¶ä¸­<code>Functor</code>çš„å®šä¹‰ä¸å¤Ÿå‡†ç¡®ï¼Œåœ¨èŒƒç•´éƒ¨åˆ†ä¼šç»§ç»­è¡¥å……ã€‚</p>
<h3 id="è‡ªå‡½æ•°ä¸è‡ªå‡½å­"><a href="#è‡ªå‡½æ•°ä¸è‡ªå‡½å­" class="headerlink" title="è‡ªå‡½æ•°ä¸è‡ªå‡½å­"></a>è‡ªå‡½æ•°ä¸è‡ªå‡½å­</h3><p>å‰é¢æˆ‘ä»¬å·²ç»ç»™å‡ºäº†<code>Function</code>çš„å®šä¹‰ï¼Œç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯<code>Type A -&gt; Type B</code>ã€‚å¦‚æœæ­¤å¤„çš„<code>Type B</code>åŒ…å«äº<code>Type A</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç§°æ­¤å‡½æ•°ä¸ºè‡ªå‡½æ•°<code>Endofunction</code>ã€‚ç‰¹åˆ«çš„ï¼Œå¦‚æœ<code>Type B</code>ç­‰äº<code>Type A</code>ï¼Œåˆ™ç§°å…¶ä¸º<code>Identity Function</code>ã€‚</p>
<p>ç±»æ¯”è‡ªå‡½æ•°ï¼Œä»€ä¹ˆæ˜¯è‡ªå‡½å­<code>Endofunctor</code>å‘¢ï¼Ÿå¯¹äº<code>Higher Order Type A -&gt; Higher Order Type B</code>ï¼Œå¦‚æœ<code>Higher Order Type B</code>åŒ…å«äº<code>Higher Order Type A</code>ï¼Œåˆ™æˆ‘ä»¬ç§°æ­¤å‡½å­ä¸ºè‡ªå‡½å­ã€‚åŒæ ·çš„ï¼Œå¦‚æœ<code>Higher Order Type B</code>ç­‰äº<code>Higher Order Type A</code>ï¼Œåˆ™ç§°å…¶ä¸º<code>Identity Functor</code>ã€‚</p>
<h3 id="èŒƒç•´"><a href="#èŒƒç•´" class="headerlink" title="èŒƒç•´"></a>èŒƒç•´</h3><p>æˆ‘ä¸æ‰“ç®—ä»å¾ˆä¸¥è°¨çš„å®šä¹‰é˜æ˜èŒƒç•´<code>Category</code>çš„æ¦‚å¿µã€‚é€šä¿—åœ°è®²ï¼Œæˆ‘ç†è§£çš„èŒƒç•´å°±æ˜¯å¯¹è±¡+æ€å°„ã€‚é‚£ä¹ˆåœ¨Haskellä¸­ä»€ä¹ˆæ˜¯èŒƒç•´å‘¢ï¼Ÿ</p>
<p>æœ€é‡è¦çš„æˆ‘è®¤ä¸ºæ˜¯ä¸€ä¸ª<code>Higher Order Type</code>å¯¹åº”äºä¸€ä¸ª<code>Category</code>ï¼Œå…¶ä¸­è¢«è¯¥<code>Higher Order Type</code>æ‰€æŠ½è±¡çš„<code>Proper Type</code>å°±æ˜¯è¯¥<code>Category</code>çš„å¯¹è±¡ï¼Œè€Œä»¥è¿™äº›<code>Proper Type</code>ä¸ºå…¥å‚å’Œå‡ºå‚çš„<code>Function</code>å°±æ˜¯è¯¥<code>Category</code>çš„æ€å°„ã€‚</p>
<h3 id="å‡½å­æ·±å…¥"><a href="#å‡½å­æ·±å…¥" class="headerlink" title="å‡½å­æ·±å…¥"></a>å‡½å­æ·±å…¥</h3><p>ç„¶å<code>Functor</code>çš„æ¦‚å¿µå¯ä»¥è¿›ä¸€æ­¥æ·±å…¥ã€‚åˆšåˆšè¯´é“ï¼Œå‡½å­<code>Functor</code>æ˜¯æŒ‡è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Higher Order Type</code>çš„ä¸€ä¸€æ˜ å°„ï¼Œæ›´å‡†ç¡®çš„ï¼Œ<code>Functor</code>æ˜¯<code>Higher Order Type</code>æ‰€å¯¹åº”çš„èŒƒç•´ä¹‹é—´çš„æ˜ å°„ï¼Œå®ƒåŒ…æ‹¬å¯¹å¯¹è±¡çš„æ˜ å°„å’Œå¯¹æ€å°„çš„æ˜ å°„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè€ƒè™‘<code>a -&gt; [a]</code>ä½œä¸º<code>Functor</code>ï¼Œå®ƒæ˜¯<code>Identity</code>å¯¹åº”çš„èŒƒç•´å’Œ<code>List</code>å¯¹åº”çš„èŒƒç•´ä¹‹é—´çš„æ˜ å°„ã€‚ç¬¬ä¸€å®ƒå¯ä»¥ä½œä¸ºå¯¹è±¡ä¹‹é—´çš„æ˜ å°„ï¼Œä¾‹å¦‚å®ƒæ˜¯<code>Int -&gt; [Int]</code>ä¹‹é—´çš„æ˜ å°„ï¼Œç¬¬äºŒï¼Œä½œä¸ºå¯¹æ€å°„çš„æ˜ å°„ï¼Œç”±äº<code>[]</code>æœ‰<code>map</code>æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒè¿˜æ˜¯<code>(Int -&gt; Int) -&gt; [Int] -&gt; [Int]</code>ä¹‹é—´çš„æ˜ å°„ã€‚</p>
<blockquote>
<p>åœ¨Haskellä¸­æœ‰ç±»å‹ç±»<code>Functor</code>ï¼Œå®ƒæ¥å—é«˜é˜¶ç±»å‹ä½œä¸ºå®ä¾‹ï¼Œé«˜é˜¶ç±»å‹æœ¬èº«å°±æ˜¯ç±»å‹æ„é€ å™¨ï¼Œå®ƒå°±æ˜¯å¯¹è±¡ä¹‹é—´çš„æ˜ å°„ã€‚<code>Functor</code>å®ä¾‹å¿…é¡»å®ç°<code>fmap</code>æ–¹æ³•ï¼Œå®ƒåˆæ˜¯æ€å°„ä¹‹é—´çš„æ˜ å°„ã€‚</p>
</blockquote>
<h3 id="åŠç¾¤ä¸å¹ºåŠç¾¤"><a href="#åŠç¾¤ä¸å¹ºåŠç¾¤" class="headerlink" title="åŠç¾¤ä¸å¹ºåŠç¾¤"></a>åŠç¾¤ä¸å¹ºåŠç¾¤</h3><p>æˆ‘ä»¬çŸ¥é“ç¾¤æ˜¯æŒ‡æ»¡è¶³çš„å°é—­æ€§ã€ç»“åˆå¾‹ã€æœ‰å¹ºå…ƒã€é€†å…ƒçš„éç©ºé›†åˆ+äºŒå…ƒè¿ç®—<code>(G, *)</code>ã€‚å½“<code>(G, *)</code>æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹æ—¶å®ƒæ˜¯ä¸€ä¸ªåŠç¾¤ï¼Œè¿›ä¸€æ­¥ï¼Œå¦‚æœè¿˜æœ‰å¹ºå…ƒï¼Œåˆ™å®ƒæ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ã€‚</p>
<h2 id="Monad"><a href="#Monad" class="headerlink" title="Monad"></a>Monad</h2><p>ä¸Šé¢è¯´äº†ä¸€å¤§å †ï¼Œå¦‚æœä¸å…·ä½“åˆ°Monadçš„å®šä¹‰ä¸Šè¢«è§‰å¾—éƒ½æ˜¯æ‰¯æ·¡ã€‚å›é¡¾å¼€å¤´éƒ¨åˆ†å¼•ç”¨çš„å®šä¹‰ã€‚</p>
<blockquote>
<p>Monadæ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ã€‚</p>
</blockquote>
<h3 id="è‡ªå‡½å­èŒƒç•´"><a href="#è‡ªå‡½å­èŒƒç•´" class="headerlink" title="è‡ªå‡½å­èŒƒç•´"></a>è‡ªå‡½å­èŒƒç•´</h3><p>é¦–å…ˆï¼Œè€ƒè™‘ä»€ä¹ˆæ˜¯è‡ªå‡½å­èŒƒç•´ï¼Ÿä¸Šé¢è¯´è¿‡ï¼Œç²—æµ…åœ°è®¤ä¸ºèŒƒç•´=å¯¹è±¡+æ€å°„ã€‚æ—¢ç„¶æ˜¯è‡ªå‡½å­èŒƒç•´ï¼Œå¯¹è±¡è‡ªç„¶æ˜¯è‡ªå‡½å­ã€‚è€Œå®é™…ä¸Šå¦‚æœæŠŠHaskellæ‰€æœ‰ç±»å‹å’Œæ–¹æ³•ç»Ÿä¸€ä½œä¸ºä¸€ä¸ªèŒƒç•´ï¼Œåˆ™Haskellä¸Šæ‰€æœ‰çš„å‡½å­éƒ½æ˜¯è‡ªå‡½å­ï¼ˆ<strong>è¿™ä¸€ç‚¹è¿˜æœ‰äº›æ¨¡ç³Š</strong>ï¼‰ã€‚ç”¨Haskellä»£ç è¡¨ç¤ºè¿™é‡Œçš„è‡ªå‡½å­å°±æ˜¯<code>a -&gt; m b</code>ï¼Œå…¶ä¸­<code>a, b</code>æ˜¯ç±»å‹å‚æ•°ï¼Œ<code>m</code>æ˜¯é«˜é˜¶ç±»å‹ã€‚</p>
<p>é‚£ä¹ˆæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„æ€å°„æ˜¯ä»€ä¹ˆã€‚æ ¹æ®å‡½å­èŒƒç•´çš„å®šä¹‰ï¼Œè¿™é‡Œçš„æ€å°„å«åšè‡ªç„¶å˜æ¢ã€‚ç»´åŸºä¸Šçš„è§£é‡Šè¿˜æ¯”è¾ƒæ¸…æ™°ï¼Œç”¨Haskellä»£ç è¡¨ç¤ºä»å‡½å­<code>a - &gt; m b</code>åˆ°<code>a -&gt; m c</code>çš„è‡ªç„¶å˜æ¢å°±æ˜¯<code>m b -&gt; m c</code>ã€‚æ‰€æœ‰è¿™äº›è‡ªç„¶å˜æ¢å°±æ„æˆäº†è‡ªå‡½å­èŒƒç•´ä¸Šçš„æ€å°„ã€‚</p>
<h3 id="è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤"><a href="#è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤" class="headerlink" title="è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤"></a>è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤</h3><p>ç„¶åä½œä¸ºè¿™ä¸ªè‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤<code>(G, *)</code>ï¼Œéç©ºé›†åˆGè‡ªç„¶å°±æ˜¯è‡ªå‡½å­æ„æˆçš„é›†åˆï¼Œè€ŒäºŒå…ƒè¿ç®—<code>*</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¹ºå…ƒæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å›å¿†Haskellä¸­å¯¹Monadå®ä¾‹çš„è¦æ±‚æ˜¯å®ç°<code>return</code>å‡½æ•°å’Œ<code>&gt;&gt;=</code>å‡½æ•°ï¼Œå®ƒä»¬çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">Monad</span> (<span class="title">m</span> :: * -&gt; *) <span class="keyword">where</span></span></span><br><span class="line">    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</span><br><span class="line">    return :: a -&gt; m a</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®å‡½æ•°å£°æ˜å¯ä»¥çœ‹å‡ºï¼Œ<code>return</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è‡ªå‡½å­ï¼Œè€Œ<code>&gt;&gt;=</code>é…·ä¼¼äºŒå…ƒè¿ç®—ã€‚æˆ‘ä»¬è‡ªç„¶åœ°çŒœæµ‹<code>&gt;&gt;=</code>å°±æ˜¯è¿™ä¸ªå¹ºåŠç¾¤çš„äºŒå…ƒè¿ç®—ï¼Œ<code>reutrn</code>å°±æ˜¯å¹ºå…ƒã€‚ä½†æ˜¯<code>&gt;&gt;=</code>å¹¶ä¸å®Œå…¨ç¬¦åˆäºŒå…ƒè¿ç®—çš„å®šä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰æ–°çš„å‡½æ•°ï¼š</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;=&gt; :: (a -&gt; m b) -&gt; (b -&gt; m c) -&gt; (a -&gt; m c)</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶ï¼Œ<code>&gt;=&gt;</code>ç¬¦åˆè¿™ä¸ªå¹ºåŠç¾¤é‡Œå¯¹äºŒå…ƒè¿ç®—çš„å®šä¹‰ã€‚<code>&gt;&gt;=</code>ä¸<code>&gt;=&gt;</code>çš„å…³ç³»ä¸ºå¯¹äºä»»æ„ä¸¤ä¸ªå‡½å­<code>f, g</code>ï¼Œæœ‰<code>(f x) &gt;&gt;= g</code>ç­‰ä»·äº<code>(f &gt;=&gt; g) x</code>ã€‚</p>
<h4 id="å°é—­æ€§"><a href="#å°é—­æ€§" class="headerlink" title="å°é—­æ€§"></a>å°é—­æ€§</h4><p><del>å¯¹äºä»»æ„ä¸¤ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>ä»¥åŠ<code>g: b -&gt; m c</code>ï¼Œé‚£ä¹ˆ<code>&gt;&gt;= g</code>å°±æ˜¯ä¸€ä¸ª<code>m b -&gt; m c</code>çš„è‡ªç„¶å˜æ¢ï¼Œå°†<code>f</code>æ˜ å°„ä¸º<code>h: a -&gt; m c</code>ï¼Œè€Œæ˜¾ç„¶<code>h</code>ä¹Ÿæ˜¯ä¸€ä¸ªè‡ªå‡½å­ï¼Œæ‰€ä»¥æ»¡è¶³å°é—­æ€§ã€‚ç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯<code>(&gt;&gt;= g) . f = h</code>ã€‚</del></p>
<p>å¯¹äºä»»æ„ä¸¤ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>ä»¥åŠ<code>g: b -&gt; m c</code>ï¼Œé‚£ä¹ˆ<code>f &gt;=&gt; g</code>å¾—åˆ°<code>h: a -&gt; m c</code>çš„è‡ªç„¶å˜æ¢ï¼Œè€Œæ˜¾ç„¶<code>h</code>ä¹Ÿæ˜¯ä¸€ä¸ªè‡ªå‡½å­ï¼Œæ‰€ä»¥æ»¡è¶³å°é—­æ€§ã€‚</p>
<h4 id="ç»“åˆå¾‹"><a href="#ç»“åˆå¾‹" class="headerlink" title="ç»“åˆå¾‹"></a>ç»“åˆå¾‹</h4><p><del>å¯¹äºä»»æ„ä¸‰ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>, <code>g: b -&gt; m c</code>, <code>h: c -&gt; m d</code>ï¼Œå…ˆè€ƒè™‘<code>(f * g) * h</code>çš„é¡ºåºï¼Œè®¡ç®—<code>(&gt;&gt;= h) . ((&gt;&gt;= g) . f) = a - &gt; m d</code>ã€‚å†è€ƒè™‘<code>f * (g * h)</code>çš„é¡ºåºï¼Œè®¡ç®—<code>(&gt;&gt;= (&gt;&gt;= h) . g) . f = a - &gt; m d</code>ã€‚æ‰€ä»¥ç»“åˆå¾‹æˆç«‹ã€‚</del></p>
<p>å¯¹äºä»»æ„ä¸‰ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>, <code>g: b -&gt; m c</code>, <code>h: c -&gt; m d</code>ï¼Œå…ˆè€ƒè™‘<code>(f * g) * h</code>çš„é¡ºåºï¼Œè®¡ç®—<code>(f &gt;=&gt; g) &gt;=&gt; h = a - &gt; m d</code>ã€‚å†è€ƒè™‘<code>f * (g * h)</code>çš„é¡ºåºï¼Œè®¡ç®—<code>f &gt;=&gt; (g &gt;=&gt; h) = a - &gt; m d</code>ã€‚æ‰€ä»¥ç»“åˆå¾‹æˆç«‹ã€‚</p>
<h4 id="å¹ºå…ƒ"><a href="#å¹ºå…ƒ" class="headerlink" title="å¹ºå…ƒ"></a>å¹ºå…ƒ</h4><p><del>é¦–å…ˆéªŒè¯å·¦ç»“åˆå¾‹ã€‚å–ä»»æ„è‡ªå‡½å­<code>f: a -&gt; m b</code>ï¼Œè€ƒè™‘<code>return * f</code>ï¼Œè®¡ç®—<code>(&gt;&gt; f) . return = a -&gt; m b = f</code>ã€‚å·¦ç»“åˆå¾‹æˆç«‹ã€‚å†éªŒè¯å³ç»“åˆå¾‹ï¼Œè€ƒè™‘<code>f * return</code>ï¼Œè®¡ç®—<code>(&gt;&gt;= return) . f = a -&gt; m b = f</code>ï¼Œå³ç»“åˆå¾‹æˆç«‹ã€‚</del></p>
<p>é¦–å…ˆéªŒè¯å·¦ç»“åˆå¾‹ã€‚å–ä»»æ„è‡ªå‡½å­<code>f: a -&gt; m b</code>ï¼Œè€ƒè™‘<code>return * f</code>ï¼Œè®¡ç®—<code>return &gt;=&gt; f = a -&gt; m b = f</code>ã€‚å·¦ç»“åˆå¾‹æˆç«‹ã€‚å†éªŒè¯å³ç»“åˆå¾‹ï¼Œè€ƒè™‘<code>f * return</code>ï¼Œè®¡ç®—<code>f &gt;=&gt; return = a -&gt; m b = f</code>ï¼Œå³ç»“åˆå¾‹æˆç«‹ã€‚</p>
<p>ç»¼ä¸Šï¼Œæˆ‘ä»¬éªŒè¯äº†å®ç°äº†<code>return</code>å’Œ<code>&gt;=&gt;</code>(ä¹Ÿå°±æ˜¯å®ç°äº†<code>return</code>å’Œ<code>&gt;&gt;=</code>)çš„Monadå®ä¾‹ç¡®å®æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ã€‚è¿™é‡Œæˆ‘ä»¬æš‚æ—¶ä¸å†è¯æ˜æ»¡è¶³è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ä¸€å®šæ˜¯Monadçš„ç»“è®ºã€‚</p>
<h2 id="Monadæœ‰ä»€ä¹ˆç”¨"><a href="#Monadæœ‰ä»€ä¹ˆç”¨" class="headerlink" title="Monadæœ‰ä»€ä¹ˆç”¨"></a>Monadæœ‰ä»€ä¹ˆç”¨</h2><p>è´¹å°½åƒè¾›ä¸‡è‹¦ç»ˆäºç†è§£äº†å¼€å¤´ä¸€å¥è¯çš„æ„æ€ï¼Œä½†ç°åœ¨é¢ä¸´çš„é—®é¢˜æ˜¯å¼•å…¥Monadç©¶ç«Ÿç»™Haskellå¸¦æ¥äº†ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿæ— éæ˜¯è§£å†³éçº¯å‡½æ•°å¸¦æ¥çš„å‰¯ä½œç”¨çš„é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆMonadæ€ä¹ˆè§£å†³å‰¯ä½œç”¨é—®é¢˜å‘¢ï¼Ÿ</p>
<p>åœ¨ç»´åŸºç™¾ç§‘çš„Haskellè¯æ¡ä¸­æœ‰å¦‚ä¸‹æè¿°ï¼š</p>
<blockquote>
<p>å®ƒæ˜¯ä¸€é—¨çº¯å‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€å¤§ä½“ä¸Šï¼ŒHaskellä¸­çš„å‡½æ•°æ²¡æœ‰å‰¯ä½œç”¨ã€‚Haskellç”¨ç‰¹å®šçš„ç±»å‹æ¥è¡¨è¾¾å‰¯ä½œç”¨ï¼Œè¯¥ç±»å‹ä¸å‡½æ•°ç±»å‹ç›¸äº’ç‹¬ç«‹ã€‚çº¯å‡½æ•°å¯ä»¥æ“ä½œå¹¶è¿”å›å¯æ‰§è¡Œçš„å‰¯ä½œç”¨çš„ç±»å‹ï¼Œä½†ä¸èƒ½å¤Ÿæ‰§è¡Œå®ƒä»¬ï¼Œåªæœ‰ç”¨äºè¡¨è¾¾å‰¯ä½œç”¨çš„ç±»å‹æ‰èƒ½æ‰§è¡Œè¿™äº›å‰¯ä½œç”¨ï¼ŒHaskellä»¥æ­¤è¡¨è¾¾å…¶å®ƒè¯­è¨€ä¸­çš„éçº¯å‡½æ•°ã€‚</p>
</blockquote>
<p>æŒ‰ç…§æˆ‘çš„ç†è§£ï¼ŒHaskellå¯¹äºè¿™äº›å¯èƒ½æœ‰å‰¯ä½œç”¨çš„ç±»å‹æ„é€ äº†ç›¸åº”çš„é«˜çº§ç±»å‹<code>Higher Order Type</code>ï¼Œä¹Ÿå°±æ˜¯å½¢æˆäº†å¯¹ç«‹äºæ²¡æœ‰å‰¯ä½œç”¨çš„èŒƒç•´çš„æ–°èŒƒç•´ã€‚è€Œåœ¨è¿™ä¸¤ä¸ªèŒƒç•´ä¹‹é—´ï¼Œé€šè¿‡Monadè”ç³»èµ·æ¥ã€‚è‹¥è®°æ— å‰¯ä½œç”¨èŒƒç•´ä¸ºC1ï¼Œæœ‰å‰¯ä½œç”¨èŒƒç•´ä¸ºC2ã€‚è¿™ç§è”ç³»åªæœ‰ä»C1åˆ°C2çš„å•å‘æ–¹æ³•ä»¥åŠC2çš„å†…éƒ¨æ–¹æ³•ï¼Œä¸å­˜åœ¨ä»C2åˆ°C1çš„æ–¹æ³•ã€‚é€šè¿‡è¿™æ ·çš„è®¾è®¡æ¥éš”ç¦»è¿™ä¸¤ä¸ªèŒƒç•´ã€‚</p>
<p>è¿˜æ˜¯æœ€åˆä»¥å¯¼è‡´Monadå¼•å…¥çš„IOç±»å‹ä½œä¸ºä¾‹å­è¯´æ˜ã€‚</p>
<p>è¿™é‡Œçš„è‡ªå‡½å­ä¸º<code>IO</code>å‡½å­ï¼Œå®ƒå¯¹Monadç±»å‹ç±»çš„å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Monad</span> <span class="type">IO</span> <span class="keyword">where</span></span></span><br><span class="line">    return x = <span class="type">IO</span> x</span><br><span class="line">    <span class="type">IO</span> x &gt;&gt;= f = f x</span><br></pre></td></tr></table></figure>
<p>IOæ˜¯æ˜¾ç„¶çš„å…·æœ‰å‰¯ä½œç”¨çš„æ“ä½œã€‚IOç±»å‹å°†è¿™ç§æ“ä½œå°è£…ä¸ºä¸€ç§ç±»å‹ï¼Œ<code>return</code>æ“ä½œæä¾›äº†ä»C1åˆ°C2çš„æ–¹æ³•ï¼Œ<code>&gt;&gt;=</code>æ“ä½œæä¾›äº†C2çš„å†…éƒ¨æ–¹æ³•ã€‚æ›´å‡†ç¡®çš„è¯´æ³•æ˜¯é“å¯å¨ä¸­çš„è¯´æ³•ï¼š<code>return</code>æ˜¯ä¸€ç§æœ€è‡ªç„¶çš„ç±»å‹æå‡ï¼Œä¹Ÿå°±æ˜¯å•ä½å‡½å­ï¼Œ<code>&gt;&gt;=</code>æ˜¯ä¸€ç§é¦–å…ˆçš„ç±»å‹ä¸‹é™ï¼Œä½†æ˜¯ç¡®ä¿äº†ç»“æœè¿˜æ˜¯åœ¨IOç±»å‹çš„èŒƒç•´å½“ä¸­ã€‚</p>
<p>é€šè¿‡Monadçš„æœºåˆ¶ï¼Œç¡®ä¿äº†æœ‰å‰¯ä½œç”¨çš„èŒƒç•´ä¸­çš„æ‰§è¡Œå§‹ç»ˆåœç•™åœ¨æœ‰å‰¯ä½œç”¨çš„èŒƒç•´ä¸­ï¼Œä¸ä¼šå½±å“åŸæ¥çš„ç±»å‹ã€‚</p>
<p>æœ€åæˆ‘æƒ³è¡¥å……ä¸€ç‚¹ï¼ŒMonadæ˜¯å¦‚ä½•è§£å†³æ‰§è¡Œé¡ºåºå¯¹äºæœ‰å‰¯ä½œç”¨å‡½æ•°çš„å½±å“ã€‚æˆ‘çš„ç†è§£æ˜¯<code>&gt;&gt;=</code>å®é™…ä¸Šç±»ä¼¼äºshellä¸­çš„<code>|</code>ï¼Œå®ƒæ„é€ äº†ä¸€ç§ç®¡é“ï¼Œä½¿å¾—å‡½æ•°çš„æ‰§è¡Œæ˜¯æœ‰é¡ºåºçš„ã€‚ä½†æ˜¯è¿™ä¸å¹ºåŠç¾¤çš„ç»“åˆå¾‹æ˜¯å¦çŸ›ç›¾å‘¢ï¼Ÿå¹¶ä¸çŸ›ç›¾ã€‚å› ä¸ºä¾‹å¦‚å¯¹äº<code>m &gt;&gt;= f &gt;&gt;= g ...</code>ä¸­é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåç»­çš„éƒ¨åˆ†åªæ˜¯æ˜ç¡®äº†æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå¹¶æ²¡æœ‰å®é™…çš„è¾“å…¥æ‰§è¡Œï¼Œå¿…é¡»ç­‰åˆ°<code>m</code>è¿›å…¥ç®¡é“åæ‰èƒ½çœŸæ­£å¼€å§‹è®¡ç®—ç»“æœã€‚æ‰€ä»¥ä¸ç»“åˆå¾‹å¹¶ä¸çŸ›ç›¾ã€‚</p>
<p>å¼•ç”¨é“å¯å¨çš„ä¸€å¼ å›¾ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ç†è§£ã€‚</p>
<p><img src="/BlogImages/Monadåˆæ¢/Monad_2.png" alt=""></p>
<!--> åŸæœ¬æˆ‘è§‰å¾—ä¸Šé¢è¿™ä¸€æ®µä¸­æå‡ºæ‰§è¡Œé¡ºåºé—®é¢˜ï¼Œæ˜¯å¯ä»¥åœ¨å‰é¢å…³äºéš”ç¦»ä¸¤ä¸ªèŒƒç•´çš„è®¨è®ºä¸­è§£å†³æ‰çš„ï¼Œä½†æ˜¯å¹¶æ²¡èƒ½å¤ªæƒ³æ¸…æ¥š-->
<h2 id="ç¨‹åºç¤ºä¾‹"><a href="#ç¨‹åºç¤ºä¾‹" class="headerlink" title="ç¨‹åºç¤ºä¾‹"></a>ç¨‹åºç¤ºä¾‹</h2><p>æœ‰é“å¯’å‡å®è·µé¢˜ç›®æ˜¯è°ƒæŸ¥è‡ªå·±çš„å®¶æ—å›¾è°±ã€‚å¦‚æœæˆ‘ä»¬æ„æƒ³äº†ä¸€ä¸ªæ•°æ®ç»“æ„å­˜å‚¨äº†æ‰€æœ‰æ”¶é›†åˆ°çš„å…³äºä¸€ä¸ªæ—è°±çš„ä¿¡æ¯ã€‚ä»å…¶ä¸­æŸä¸€ä¸ªäººå‡ºå‘ï¼Œè¦è·å¾—ä¸ä»–ç›¸å…³çš„ä»»æ„ä¸€ä¸ªäººï¼Œå¯ä»¥ç»è¿‡ä¸€æ­¥æˆ–è€…å¤šæ­¥å¦‚ä¸‹çš„å…³ç³»è·å¾—ï¼šçˆ¶äº²(father)ï¼Œæ¯äº²(mother)ï¼Œä¸ˆå¤«æˆ–å¦»å­(husbandOrWife)ï¼Œé•¿å­æˆ–é•¿å¥³(eldestChild)ï¼Œæœ€å¤§çš„å¼Ÿå¼Ÿæˆ–å¦¹å¦¹(nextChild)</p>
<p>äºæ˜¯æˆ‘æ„é€ äº†å¦‚ä¸‹çš„ä¾‹å­ï¼š</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Person</span> = <span class="type">Person</span> <span class="type">String</span></span></span><br><span class="line">              <span class="keyword">deriving</span> <span class="type">Show</span></span><br><span class="line"><span class="title">father</span> :: <span class="type">Person</span> -&gt; <span class="type">Maybe</span> <span class="type">Person</span></span><br><span class="line"><span class="title">mother</span> :: <span class="type">Person</span> -&gt; <span class="type">Maybe</span> <span class="type">Person</span></span><br><span class="line"><span class="title">husbandOrWife</span> :: <span class="type">Person</span> -&gt; <span class="type">Maybe</span> <span class="type">Person</span></span><br><span class="line"><span class="title">eldestChild</span> :: <span class="type">Person</span> -&gt; <span class="type">Maybe</span> <span class="type">Person</span></span><br><span class="line"><span class="title">nextChild</span> :: <span class="type">Person</span> -&gt; <span class="type">Maybe</span> <span class="type">Person</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨äº†Monadç±»å‹çš„<code>Maybe</code>ã€‚å®ƒç»™æˆ‘ä»¬å¸¦æ¥äº†ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿç”±äºä¸æ˜¯æ¯ä¸€ä¸ªäººéƒ½æ‹¥æœ‰ä¸Šè¿°äº”ç§å…³ç³»çš„äººï¼Œæˆ–è€…ç”±äºæ—è°±çš„ç¼ºå¤±ï¼Œæ•°æ®ä¸ä¸€å®šå®Œæ•´ã€‚æ‰€ä»¥æœ‰å¯èƒ½ç»è¿‡ä¸Šè¿°æŸä¸€æ­¥æ“ä½œï¼Œæ²¡æœ‰æœŸæœ›çš„ç»“æœã€‚å¦‚æœæˆ‘ä»¬é‡‡ç”¨å¯¹å‡½æ•°ç»“æœè¿›è¡Œåˆ¤æ–­ï¼Œåˆ™ä»£ç ä¼šæ¼”å˜æˆç±»ä¼¼<code>If...else...</code>ç»“æ„å†—é•¿çš„åµŒå¥—ã€‚<code>Maybe</code>ç”±äºå®ç°äº†Monadç±»å‹ï¼Œé€šè¿‡<code>&gt;&gt;=</code>æˆ‘ä»¬å¯ä»¥æ­£å¸¸åœ°å¯»æ‰¾æŸäººï¼Œä¸­é—´è¿‡ç¨‹ä¸ç”¨åŠ ä»¥åˆ¤æ–­ï¼Œå¦‚æœæŸä¸€æ­¥å‡ºç°æ‰¾ä¸åˆ°ï¼Œåˆ™ç»“æœä¼šå˜ä¸º<code>Nothing</code>(ä¸æ˜¯è¯´ä»–ä¸æ˜¯ä¸œè¥¿ã€‚ã€‚ã€‚)ã€‚ç®€ç›´å¤ªæœ‰çˆ±äº†ï¼</p>
<p>ä»èŒƒç•´è§’åº¦æ¥çœ‹ï¼Œç”±äº<code>Maybe</code>ç±»å‹å­˜åœ¨ä¾‹å¤–çš„<code>Nothing</code>çš„æƒ…å†µï¼Œæ‰€ä»¥Monadä½¿å¾—æ¶‰åŠ<code>Maybe</code>çš„æ“ä½œè¢«é™åˆ¶åœ¨<code>Maybe</code>å¯¹åº”çš„èŒƒç•´å†…ï¼Œä»è€Œä½¿ç¨‹åºè®¾è®¡å˜å¾—å®¹æ˜“ã€‚</p>
<p>å†™äº†è¿™ä¹ˆå¤šï¼Œæˆ‘åªæƒ³è¯´ã€‚ã€‚ã€‚å¿ƒå¥½ç´¯ã€‚ã€‚ã€‚</p>
<p><br><br><br><br><br><br><br></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol>
<li>æˆ‘æ‰€ç†è§£çš„monadç³»åˆ—0-5 <a href="http://hongjiang.info/understand-monad-0/" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>é“å¯å¨ <a href="http://zhuoqiang.me/what-is-monad.html" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>è‡ªç„¶å˜æ¢ - ç»´åŸºç™¾ç§‘ <a href="http://zh.wikipedia.org/wiki/è‡ªç„¶è®Šæ›" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>çŸ¥ä¹é—®é¢˜ - å¦‚ä½•è§£é‡ŠHaskellä¸­çš„å•å­ï¼Ÿparker liuçš„å›ç­” <a href="http://www.zhihu.com/question/22291305" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>Haskell/Understanding Monad <a href="http://en.wikibooks.org/wiki/Haskell/Understanding_monads#Monad_Laws" target="_blank" rel="noopener">é“¾æ¥</a></li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/Haskell/">Haskell</a><a href="/tags/Monad/">Monad</a><a href="/tags/èŒƒç•´è®º/">èŒƒç•´è®º</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Haskell/">Haskell</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://neverland.siyuan12.com/2014/12/22/Monadåˆæ¢/" data-title="Monadåˆæ¢ | Neverland" data-tsina="kisstherainforever" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/01/08/ç¬¬ä¸€ä»½ä½œå“/" title="ç¬¬ä¸€ä»½ä½œå“">
  <strong>PREVIOUS:</strong><br/>
  <span>
  ç¬¬ä¸€ä»½ä½œå“</span>
</a>
</div>


<div class="next">
<a href="/2014/10/29/Pythonå…¥é—¨ç¯‡/"  title="Pythonå…¥é—¨ç¯‡">
 <strong>NEXT:</strong><br/> 
 <span>Pythonå…¥é—¨ç¯‡
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="æ˜¾ç¤ºä¾§è¾¹æ "></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¦‚å¿µè§£é‡Š"><span class="toc-number">1.</span> <span class="toc-text">æ¦‚å¿µè§£é‡Š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç±»å‹ç³»ç»Ÿ"><span class="toc-number">1.1.</span> <span class="toc-text">ç±»å‹ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡½æ•°ä¸å‡½å­"><span class="toc-number">1.2.</span> <span class="toc-text">å‡½æ•°ä¸å‡½å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå‡½æ•°ä¸è‡ªå‡½å­"><span class="toc-number">1.3.</span> <span class="toc-text">è‡ªå‡½æ•°ä¸è‡ªå‡½å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#èŒƒç•´"><span class="toc-number">1.4.</span> <span class="toc-text">èŒƒç•´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡½å­æ·±å…¥"><span class="toc-number">1.5.</span> <span class="toc-text">å‡½å­æ·±å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŠç¾¤ä¸å¹ºåŠç¾¤"><span class="toc-number">1.6.</span> <span class="toc-text">åŠç¾¤ä¸å¹ºåŠç¾¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Monad"><span class="toc-number">2.</span> <span class="toc-text">Monad</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå‡½å­èŒƒç•´"><span class="toc-number">2.1.</span> <span class="toc-text">è‡ªå‡½å­èŒƒç•´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤"><span class="toc-number">2.2.</span> <span class="toc-text">è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å°é—­æ€§"><span class="toc-number">2.2.1.</span> <span class="toc-text">å°é—­æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç»“åˆå¾‹"><span class="toc-number">2.2.2.</span> <span class="toc-text">ç»“åˆå¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å¹ºå…ƒ"><span class="toc-number">2.2.3.</span> <span class="toc-text">å¹ºå…ƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Monadæœ‰ä»€ä¹ˆç”¨"><span class="toc-number">3.</span> <span class="toc-text">Monadæœ‰ä»€ä¹ˆç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç¨‹åºç¤ºä¾‹"><span class="toc-number">4.</span> <span class="toc-text">ç¨‹åºç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å‚è€ƒèµ„æ–™"><span class="toc-number">5.</span> <span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="éšè—ä¾§è¾¹æ "></a></div>
<aside class="clearfix">
<div id="authorInfo">
	
		<div class="author-logo"></div>		
	
	<div class="social-list" class="clearfix">
		
		<a href="http://weibo.com/kisstherainforever" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/Liutongtong7" target="_blank" title="github"></a>
		
		
		<a href="https://www.facebook.com/100007748653966" target="_blank" title="facebook"></a>
		
		
	</div>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS è®¢é˜…</a>
</div>

  
<div class="categorieslist">
	<p class="asidetitle">åˆ†ç±»</p>
		<ul>
		
			<li><a href="/categories/Haskell/" title="Haskell">Haskell<sup>1</sup></a></li>
		
			<li><a href="/categories/Mac/" title="Mac">Mac<sup>2</sup></a></li>
		
			<li><a href="/categories/Python/" title="Python">Python<sup>1</sup></a></li>
		
			<li><a href="/categories/å¯†ç å­¦/" title="å¯†ç å­¦">å¯†ç å­¦<sup>1</sup></a></li>
		
			<li><a href="/categories/éšæƒ³/" title="éšæƒ³">éšæƒ³<sup>1</sup></a></li>
		
		</ul>
</div>


  
  <div class="tagcloudlist">
    <p class="asidetitle">æ ‡ç­¾äº‘</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/Enigma/" style="font-size: 10px;">Enigma</a> <a href="/tags/Haskell/" style="font-size: 10px;">Haskell</a> <a href="/tags/Mac/" style="font-size: 20px;">Mac</a> <a href="/tags/Monad/" style="font-size: 10px;">Monad</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/å­¦ä¹ ç¬”è®°/" style="font-size: 10px;">å­¦ä¹ ç¬”è®°</a> <a href="/tags/å¯†ç åˆ†æ/" style="font-size: 10px;">å¯†ç åˆ†æ</a> <a href="/tags/èŒƒç•´è®º/" style="font-size: 10px;">èŒƒç•´è®º</a> <a href="/tags/è½¯ä»¶å·¥ç¨‹/" style="font-size: 10px;">è½¯ä»¶å·¥ç¨‹</a> <a href="/tags/éšæƒ³/" style="font-size: 10px;">éšæƒ³</a>
    </div>
  </div>


  <div class="linkslist">
  <p class="asidetitle">å‹æƒ…é“¾æ¥</p>
    <ul>
      <li><a href="http://hexo.io" target="_blank" title="Hexo">Hexo</a></li>
      <li><a href="http://gengbiao.me" target="_blank" title="coney">coney's Blog</a></li>
      <li><a href="https://air20.com" target="_blank" title="AIR20">AIR20</a></li>
    </ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
    
            <p class="copyright"> Â© 2018 
		
		<a href="http://neverland.siyuan12.com" target="_blank" title="Liu Tongtong">Liu Tongtong</a>
		
            && Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> && Theme by <a href="http://gengbiao.me" target="_blank" title="coney">coney</a>
            </div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>æ‰«æäºŒç»´ç åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>







<script>
    
        var _bdImg = '4';
    
    window._bd_share_config={
        "common":{
            "bdSnsKey":{

            },
            "bdText":"",
            "bdMini":"2",
            "bdMiniList":[
                "qzone",
                "tsina",
                "weixin",
                "renren",
                "tqq",
                "tieba",
                "douban",
                "sqq",
                "diandian",
                "huaban",
                "youdao",
                "mail",
                "ty",
                "fbook",
                "twi",
                "linkedin",
                "copy",
                "print"
            ],
            "bdPic":"",
            "bdStyle":"0",
            "bdSize":"16"
        },
        "slide":{
            "type":"slide",
            "bdImg":_bdImg,
            "bdPos":"right",
            "bdTop":"350"
        },
        "image":{
            "viewList":[
                "weixin",
                "qzone",
                "tsina",
                "renren",
                "douban",
                "tqq"
            ],
            "viewText":"åˆ†äº«ï¼š",
            "viewSize":"16"
        },
        "selectShare":{
            "bdContainerClass":null,
            "bdSelectMiniList":[
                "weixin",
                "qzone",
                "tsina",
                "renren",
                "douban",
                "tqq"
            ]
        }
    };
    with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>




<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-74253337-1', 'auto');  
ga('send', 'pageview');
</script>


  </body>
</html>

