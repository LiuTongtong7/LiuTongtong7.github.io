<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        Â© Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Haskell | Monadåˆæ¢ | 
        
        Seven Space
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/myfavicon.png">
    <link rel="icon" href="/img/myfavicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="å‘å¤ªæ·±ã€‚ã€‚ã€‚å­¦å¥½æ•°å­¦çœŸé‡è¦ï¼ï¼ï¼">
    <meta name="keywords" content="ç¼–ç¨‹, æ‘„å½±, ä¸€åˆ‡æœ‰è¶£çš„äº‹æƒ…, Coding, Photography, Anything Interesting,Haskell,Monad,èŒƒç•´è®º">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    
        
            <link rel="stylesheet" href="/css/fontawesome.min.css">
        
    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "å¾®è½¯é›…é»‘", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Seven Space">
    <meta name="msapplication-starturl" content="http://sevenspace.siyuan12.com/2014/12/22/02.Haskell | Monadåˆæ¢/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Seven Space">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/myfavicon.png">

    <!-- Site Verification -->
    <meta name="google-site-verification" content="pWGHf9daAxI3DLlQHJ9Y855-02IantVEKveJ9dOyvIk" />
    

    <!-- RSS -->
    
        
            <link rel=alternate type="application/atom+xml" href="atom.xml">
        
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://sevenspace.siyuan12.com/2014/12/22/02.Haskell | Monadåˆæ¢/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Haskell | Monadåˆæ¢ | Seven Space">
    <meta property="og:image" content="/img/myfavicon.png">
    <meta property="og:description" content="å‘å¤ªæ·±ã€‚ã€‚ã€‚å­¦å¥½æ•°å­¦çœŸé‡è¦ï¼ï¼ï¼">
    <meta property="og:article:tag" content="Haskell"> <meta property="og:article:tag" content="Monad"> <meta property="og:article:tag" content="èŒƒç•´è®º"> 

    
        <meta property="article:published_time" content="Mon Dec 22 2014 16:08:00 GMT+0800">
        <meta property="article:modified_time" content="Wed Jan 24 2018 00:51:04 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://sevenspace.siyuan12.com/2014/12/22/02.Haskell | Monadåˆæ¢/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://sevenspace.siyuan12.com/2014/12/22/02.Haskell | Monadåˆæ¢/index.html",
    "headline": "Haskell | Monadåˆæ¢",
    "datePublished": "Mon Dec 22 2014 16:08:00 GMT+0800",
    "dateModified": "Wed Jan 24 2018 00:51:04 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Ricardo Liu",
        "image": {
            "@type": "ImageObject",
            "url": "/img/myavatar.png"
        },
        "description": "Write the code. Change the world.,è¿™æ˜¯æ›¾ç»çš„ç†æƒ³,ç°åœ¨åœ¨æ–œæ é’å¹´çš„è·¯ä¸Šä¸€å¾€æ— å‰"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Seven Space",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/myfavicon.png"
        }
    },
    "keywords": ",Haskell,Monad,èŒƒç•´è®ºç¼–ç¨‹, æ‘„å½±, ä¸€åˆ‡æœ‰è¶£çš„äº‹æƒ…, Coding, Photography, Anything Interesting",
    "description": "å‘å¤ªæ·±ã€‚ã€‚ã€‚å­¦å¥½æ•°å­¦çœŸé‡è¦ï¼ï¼ï¼",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Isolation" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                
                    <!-- Isolation Header -->
                    <header class="header">
    <div class="header-wrapper">
        <!-- Header Copyright -->
        <div class="header-copyright">
            <div class="header-site">
                Â©&nbsp;
                <script type="text/javascript">
                    var fd = new Date();
                    document.write(fd.getFullYear());
                </script>
                &nbsp;Seven Space
            </div>
            <!--
            I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright.
            It will not impact the appearance and can give developers a lot of support :)

            å¾ˆé«˜å…´æ‚¨ä½¿ç”¨è¯¥ä¸»é¢˜ï¼Œå¼€å‘ä¸æ˜“ï¼Œå¸Œæœ›æ‚¨å¯ä»¥ä¿ç•™ä¸€ä¸‹ç‰ˆæƒå£°æ˜ã€‚
            å®ƒä¸ä¼šå½±å“ç¾è§‚å¹¶å¯ä»¥ç»™å¼€å‘è€…å¾ˆå¤§çš„æ”¯æŒã€‚ :)
            -->
            <div>
                Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a>
                <br>
                Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a>
            </div>
        </div>

        <!-- Header Title -->
        <span class="header-title header-item">
            <a href="/" title="Seven Space">
                Seven Space
            </a>
        </span>

        <p class="header-slogan header-item">
        
            
                Write the code. Change the world.<br>è¿™æ˜¯æ›¾ç»çš„ç†æƒ³<br>ç°åœ¨åœ¨æ–œæ é’å¹´çš„è·¯ä¸Šä¸€å¾€æ— å‰
            
        
        </p>

        <!-- Header Nav -->
        <nav class="header-nav header-item">
            <span class="header-nav-item">
                <a href="/" title="Home">
                    <span>ä¸»é¡µ</span>
                </a>
            </span>

            <!-- Pages  -->
            
            
        </nav>

        <!-- Header SNS -->
        <div class="header-item header-sns_list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/100007748653966" target="_blank">
            <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    
        <a href="https://www.instagram.com/ricardo.liutt" target="_blank">
            <i class="fa fa-instagram fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/LiuTongtong7" target="_blank">
            <i class="fa fa-github fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- LinkedIn -->
    
        <a href="https://www.linkedin.com/in/tongtong-liu-7ba101b8" target="_blank">
            <i class="fa fa-linkedin fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- Telegram -->
    
</div>

    </div>
</header>

                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    

                    <!-- Post TOC -->

    



<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                


    <!-- Isolation Post Header -->
    <!-- Post thumbnail -->
    
        <!-- Post Header Info -->
        <div class="post-header_info without-thumbnail">
            <!-- Author Avatar & Name -->
            <img src="/img/myavatar.png" class="avatar-img" width="44px" height="44px" alt="Ricardo Liu's avatar">
            <span class="name-span">Ricardo Liu</span>
        </div>

        <!-- Null Thumbnail -->
        <div class="post_thumbnail-null">
    
        </div>



                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    

    
        <div class="post-content_wrapper">
            <p class="post-title">
                Haskell | Monadåˆæ¢
            </p>
            <p>æˆ‘è¯•å›¾ä»å¦‚ä¸‹çš„å®šä¹‰é‡Œçœ‹ç©¿Monadçš„çœŸç›¸ã€‚ä¸çŸ¥é“çœ¼åŠ›å¤Ÿä¸å¤Ÿäº†ğŸ˜‚</p>
<blockquote>
<p>A monad in X is just a monoid in the category of endofunctors of X, with product Ã— replaced by composition of endofunctors and unit set by the identity endofunctor.</p>
<p>Monadæ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ã€‚</p>
</blockquote>
<h2 id="æ¦‚å¿µè§£é‡Š"><a href="#æ¦‚å¿µè§£é‡Š" class="headerlink" title="æ¦‚å¿µè§£é‡Š"></a>æ¦‚å¿µè§£é‡Š</h2><p>é¦–å…ˆï¼Œå¯¹äºå¦‚ä¸‹ç›¸å…³çš„æ¦‚å¿µæˆ‘å°è¯•ç»™å‡ºæˆ‘è‡ªå·±çš„å®šä¹‰ã€‚</p>
<h3 id="ç±»å‹ç³»ç»Ÿ"><a href="#ç±»å‹ç³»ç»Ÿ" class="headerlink" title="ç±»å‹ç³»ç»Ÿ"></a>ç±»å‹ç³»ç»Ÿ</h3><p>Haskellçš„ç±»å‹ç³»ç»Ÿç›¸å½“å¤æ‚ã€‚ä¸åŒäºOOåªæ˜¯ä¸€å±‚æŠ½è±¡ï¼ŒHaskellæŠ½è±¡å¤šå¾—å¯æ€•ã€‚ç›®å‰æˆ‘ç»™å‡ºçš„åˆ†å±‚å¦‚ä¸‹ï¼š</p>
<p><img src="/BlogImages/Monadåˆæ¢/Monad_1.png" alt=""></p>
<p>ä»ä¸‹å¾€ä¸Šæ˜¯æŒ‰ç…§ä»å…·ä½“åˆ°æŠ½è±¡ã€‚é¦–å…ˆæ˜¯å…·ä½“çš„å€¼<code>Value</code>ï¼Œå…¶æ¬¡æ˜¯å°†<code>Value</code>æŠ½è±¡ä¸ºç‰¹å®šç±»å‹<code>Proper Type</code>ï¼Œç„¶å<code>Proper Type</code>åˆè¢«æŠ½è±¡ä¸ºé«˜é˜¶(åŒ…å«ä¸€é˜¶)ç±»å‹<code>Higher Order Type</code>ï¼Œæœ€åæ˜¯æœ€æŠ½è±¡çš„<code>kind</code>ã€‚è€Œ<code>Monad</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæ˜¯<code>kind</code>ä¸º<code>* -&gt; *</code>çš„ä¸€ç§ç±»å‹ç±»ã€‚</p>
<h3 id="å‡½æ•°ä¸å‡½å­"><a href="#å‡½æ•°ä¸å‡½å­" class="headerlink" title="å‡½æ•°ä¸å‡½å­"></a>å‡½æ•°ä¸å‡½å­</h3><blockquote>
<p>æ­¤å¤„çš„å‡½æ•°ç‹­ä¹‰åœ°ä»…æŒ‡Haskellé‡Œçš„æ–¹æ³•ï¼Œå³è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Proper Type</code>çš„ä¸€ä¸€æ˜ å°„</p>
</blockquote>
<p>å‡½æ•°<code>Function</code>æ˜¯æŒ‡è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Proper Type</code>çš„ä¸€ä¸€æ˜ å°„ï¼Œè€Œå‡½å­<code>Functor</code>æ˜¯æŒ‡è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Higher Order Type</code>çš„ä¸€ä¸€æ˜ å°„ã€‚å…¶ä¸­<code>Functor</code>çš„å®šä¹‰ä¸å¤Ÿå‡†ç¡®ï¼Œåœ¨èŒƒç•´éƒ¨åˆ†ä¼šç»§ç»­è¡¥å……ã€‚</p>
<h3 id="è‡ªå‡½æ•°ä¸è‡ªå‡½å­"><a href="#è‡ªå‡½æ•°ä¸è‡ªå‡½å­" class="headerlink" title="è‡ªå‡½æ•°ä¸è‡ªå‡½å­"></a>è‡ªå‡½æ•°ä¸è‡ªå‡½å­</h3><p>å‰é¢æˆ‘ä»¬å·²ç»ç»™å‡ºäº†<code>Function</code>çš„å®šä¹‰ï¼Œç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯<code>Type A -&gt; Type B</code>ã€‚å¦‚æœæ­¤å¤„çš„<code>Type B</code>åŒ…å«äº<code>Type A</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç§°æ­¤å‡½æ•°ä¸ºè‡ªå‡½æ•°<code>Endofunction</code>ã€‚ç‰¹åˆ«çš„ï¼Œå¦‚æœ<code>Type B</code>ç­‰äº<code>Type A</code>ï¼Œåˆ™ç§°å…¶ä¸º<code>Identity Function</code>ã€‚</p>
<p>ç±»æ¯”è‡ªå‡½æ•°ï¼Œä»€ä¹ˆæ˜¯è‡ªå‡½å­<code>Endofunctor</code>å‘¢ï¼Ÿå¯¹äº<code>Higher Order Type A -&gt; Higher Order Type B</code>ï¼Œå¦‚æœ<code>Higher Order Type B</code>åŒ…å«äº<code>Higher Order Type A</code>ï¼Œåˆ™æˆ‘ä»¬ç§°æ­¤å‡½å­ä¸ºè‡ªå‡½å­ã€‚åŒæ ·çš„ï¼Œå¦‚æœ<code>Higher Order Type B</code>ç­‰äº<code>Higher Order Type A</code>ï¼Œåˆ™ç§°å…¶ä¸º<code>Identity Functor</code>ã€‚</p>
<h3 id="èŒƒç•´"><a href="#èŒƒç•´" class="headerlink" title="èŒƒç•´"></a>èŒƒç•´</h3><p>æˆ‘ä¸æ‰“ç®—ä»å¾ˆä¸¥è°¨çš„å®šä¹‰é˜æ˜èŒƒç•´<code>Category</code>çš„æ¦‚å¿µã€‚é€šä¿—åœ°è®²ï¼Œæˆ‘ç†è§£çš„èŒƒç•´å°±æ˜¯å¯¹è±¡+æ€å°„ã€‚é‚£ä¹ˆåœ¨Haskellä¸­ä»€ä¹ˆæ˜¯èŒƒç•´å‘¢ï¼Ÿ</p>
<p>æœ€é‡è¦çš„æˆ‘è®¤ä¸ºæ˜¯ä¸€ä¸ª<code>Higher Order Type</code>å¯¹åº”äºä¸€ä¸ª<code>Category</code>ï¼Œå…¶ä¸­è¢«è¯¥<code>Higher Order Type</code>æ‰€æŠ½è±¡çš„<code>Proper Type</code>å°±æ˜¯è¯¥<code>Category</code>çš„å¯¹è±¡ï¼Œè€Œä»¥è¿™äº›<code>Proper Type</code>ä¸ºå…¥å‚å’Œå‡ºå‚çš„<code>Function</code>å°±æ˜¯è¯¥<code>Category</code>çš„æ€å°„ã€‚</p>
<h3 id="å‡½å­æ·±å…¥"><a href="#å‡½å­æ·±å…¥" class="headerlink" title="å‡½å­æ·±å…¥"></a>å‡½å­æ·±å…¥</h3><p>ç„¶å<code>Functor</code>çš„æ¦‚å¿µå¯ä»¥è¿›ä¸€æ­¥æ·±å…¥ã€‚åˆšåˆšè¯´é“ï¼Œå‡½å­<code>Functor</code>æ˜¯æŒ‡è¾“å…¥å‚æ•°å’Œè¾“å‡ºå‚æ•°å‡ä¸º<code>Higher Order Type</code>çš„ä¸€ä¸€æ˜ å°„ï¼Œæ›´å‡†ç¡®çš„ï¼Œ<code>Functor</code>æ˜¯<code>Higher Order Type</code>æ‰€å¯¹åº”çš„èŒƒç•´ä¹‹é—´çš„æ˜ å°„ï¼Œå®ƒåŒ…æ‹¬å¯¹å¯¹è±¡çš„æ˜ å°„å’Œå¯¹æ€å°„çš„æ˜ å°„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè€ƒè™‘<code>a -&gt; [a]</code>ä½œä¸º<code>Functor</code>ï¼Œå®ƒæ˜¯<code>Identity</code>å¯¹åº”çš„èŒƒç•´å’Œ<code>List</code>å¯¹åº”çš„èŒƒç•´ä¹‹é—´çš„æ˜ å°„ã€‚ç¬¬ä¸€å®ƒå¯ä»¥ä½œä¸ºå¯¹è±¡ä¹‹é—´çš„æ˜ å°„ï¼Œä¾‹å¦‚å®ƒæ˜¯<code>Int -&gt; [Int]</code>ä¹‹é—´çš„æ˜ å°„ï¼Œç¬¬äºŒï¼Œä½œä¸ºå¯¹æ€å°„çš„æ˜ å°„ï¼Œç”±äº<code>[]</code>æœ‰<code>map</code>æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒè¿˜æ˜¯<code>(Int -&gt; Int) -&gt; [Int] -&gt; [Int]</code>ä¹‹é—´çš„æ˜ å°„ã€‚</p>
<blockquote>
<p>åœ¨Haskellä¸­æœ‰ç±»å‹ç±»<code>Functor</code>ï¼Œå®ƒæ¥å—é«˜é˜¶ç±»å‹ä½œä¸ºå®ä¾‹ï¼Œé«˜é˜¶ç±»å‹æœ¬èº«å°±æ˜¯ç±»å‹æ„é€ å™¨ï¼Œå®ƒå°±æ˜¯å¯¹è±¡ä¹‹é—´çš„æ˜ å°„ã€‚<code>Functor</code>å®ä¾‹å¿…é¡»å®ç°<code>fmap</code>æ–¹æ³•ï¼Œå®ƒåˆæ˜¯æ€å°„ä¹‹é—´çš„æ˜ å°„ã€‚</p>
</blockquote>
<h3 id="åŠç¾¤ä¸å¹ºåŠç¾¤"><a href="#åŠç¾¤ä¸å¹ºåŠç¾¤" class="headerlink" title="åŠç¾¤ä¸å¹ºåŠç¾¤"></a>åŠç¾¤ä¸å¹ºåŠç¾¤</h3><p>æˆ‘ä»¬çŸ¥é“ç¾¤æ˜¯æŒ‡æ»¡è¶³çš„å°é—­æ€§ã€ç»“åˆå¾‹ã€æœ‰å¹ºå…ƒã€é€†å…ƒçš„éç©ºé›†åˆ+äºŒå…ƒè¿ç®—<code>(G, *)</code>ã€‚å½“<code>(G, *)</code>æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹æ—¶å®ƒæ˜¯ä¸€ä¸ªåŠç¾¤ï¼Œè¿›ä¸€æ­¥ï¼Œå¦‚æœè¿˜æœ‰å¹ºå…ƒï¼Œåˆ™å®ƒæ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ã€‚</p>
<h2 id="Monad"><a href="#Monad" class="headerlink" title="Monad"></a>Monad</h2><p>ä¸Šé¢è¯´äº†ä¸€å¤§å †ï¼Œå¦‚æœä¸å…·ä½“åˆ°Monadçš„å®šä¹‰ä¸Šè¢«è§‰å¾—éƒ½æ˜¯æ‰¯æ·¡ã€‚å›é¡¾å¼€å¤´éƒ¨åˆ†å¼•ç”¨çš„å®šä¹‰ã€‚</p>
<blockquote>
<p>Monadæ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ã€‚</p>
</blockquote>
<h3 id="è‡ªå‡½å­èŒƒç•´"><a href="#è‡ªå‡½å­èŒƒç•´" class="headerlink" title="è‡ªå‡½å­èŒƒç•´"></a>è‡ªå‡½å­èŒƒç•´</h3><p>é¦–å…ˆï¼Œè€ƒè™‘ä»€ä¹ˆæ˜¯è‡ªå‡½å­èŒƒç•´ï¼Ÿä¸Šé¢è¯´è¿‡ï¼Œç²—æµ…åœ°è®¤ä¸ºèŒƒç•´=å¯¹è±¡+æ€å°„ã€‚æ—¢ç„¶æ˜¯è‡ªå‡½å­èŒƒç•´ï¼Œå¯¹è±¡è‡ªç„¶æ˜¯è‡ªå‡½å­ã€‚è€Œå®é™…ä¸Šå¦‚æœæŠŠHaskellæ‰€æœ‰ç±»å‹å’Œæ–¹æ³•ç»Ÿä¸€ä½œä¸ºä¸€ä¸ªèŒƒç•´ï¼Œåˆ™Haskellä¸Šæ‰€æœ‰çš„å‡½å­éƒ½æ˜¯è‡ªå‡½å­ï¼ˆ<strong>è¿™ä¸€ç‚¹è¿˜æœ‰äº›æ¨¡ç³Š</strong>ï¼‰ã€‚ç”¨Haskellä»£ç è¡¨ç¤ºè¿™é‡Œçš„è‡ªå‡½å­å°±æ˜¯<code>a -&gt; m b</code>ï¼Œå…¶ä¸­<code>a, b</code>æ˜¯ç±»å‹å‚æ•°ï¼Œ<code>m</code>æ˜¯é«˜é˜¶ç±»å‹ã€‚</p>
<p>é‚£ä¹ˆæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„æ€å°„æ˜¯ä»€ä¹ˆã€‚æ ¹æ®å‡½å­èŒƒç•´çš„å®šä¹‰ï¼Œè¿™é‡Œçš„æ€å°„å«åšè‡ªç„¶å˜æ¢ã€‚ç»´åŸºä¸Šçš„è§£é‡Šè¿˜æ¯”è¾ƒæ¸…æ™°ï¼Œç”¨Haskellä»£ç è¡¨ç¤ºä»å‡½å­<code>a - &gt; m b</code>åˆ°<code>a -&gt; m c</code>çš„è‡ªç„¶å˜æ¢å°±æ˜¯<code>m b -&gt; m c</code>ã€‚æ‰€æœ‰è¿™äº›è‡ªç„¶å˜æ¢å°±æ„æˆäº†è‡ªå‡½å­èŒƒç•´ä¸Šçš„æ€å°„ã€‚</p>
<h3 id="è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤"><a href="#è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤" class="headerlink" title="è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤"></a>è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤</h3><p>ç„¶åä½œä¸ºè¿™ä¸ªè‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤<code>(G, *)</code>ï¼Œéç©ºé›†åˆGè‡ªç„¶å°±æ˜¯è‡ªå‡½å­æ„æˆçš„é›†åˆï¼Œè€ŒäºŒå…ƒè¿ç®—<code>*</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¹ºå…ƒæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å›å¿†Haskellä¸­å¯¹Monadå®ä¾‹çš„è¦æ±‚æ˜¯å®ç°<code>return</code>å‡½æ•°å’Œ<code>&gt;&gt;=</code>å‡½æ•°ï¼Œå®ƒä»¬çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="haskell">class Monad (m :: * -&gt; *) where
    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b
    return :: a -&gt; m a
</code></pre>
<p>æ ¹æ®å‡½æ•°å£°æ˜å¯ä»¥çœ‹å‡ºï¼Œ<code>return</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è‡ªå‡½å­ï¼Œè€Œ<code>&gt;&gt;=</code>é…·ä¼¼äºŒå…ƒè¿ç®—ã€‚æˆ‘ä»¬è‡ªç„¶åœ°çŒœæµ‹<code>&gt;&gt;=</code>å°±æ˜¯è¿™ä¸ªå¹ºåŠç¾¤çš„äºŒå…ƒè¿ç®—ï¼Œ<code>reutrn</code>å°±æ˜¯å¹ºå…ƒã€‚ä½†æ˜¯<code>&gt;&gt;=</code>å¹¶ä¸å®Œå…¨ç¬¦åˆäºŒå…ƒè¿ç®—çš„å®šä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰æ–°çš„å‡½æ•°ï¼š</p>
<pre><code class="haskell">    &gt;=&gt; :: (a -&gt; m b) -&gt; (b -&gt; m c) -&gt; (a -&gt; m c)
</code></pre>
<p>æ˜¾ç„¶ï¼Œ<code>&gt;=&gt;</code>ç¬¦åˆè¿™ä¸ªå¹ºåŠç¾¤é‡Œå¯¹äºŒå…ƒè¿ç®—çš„å®šä¹‰ã€‚<code>&gt;&gt;=</code>ä¸<code>&gt;=&gt;</code>çš„å…³ç³»ä¸ºå¯¹äºä»»æ„ä¸¤ä¸ªå‡½å­<code>f, g</code>ï¼Œæœ‰<code>(f x) &gt;&gt;= g</code>ç­‰ä»·äº<code>(f &gt;=&gt; g) x</code>ã€‚</p>
<h4 id="å°é—­æ€§"><a href="#å°é—­æ€§" class="headerlink" title="å°é—­æ€§"></a>å°é—­æ€§</h4><p><del>å¯¹äºä»»æ„ä¸¤ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>ä»¥åŠ<code>g: b -&gt; m c</code>ï¼Œé‚£ä¹ˆ<code>&gt;&gt;= g</code>å°±æ˜¯ä¸€ä¸ª<code>m b -&gt; m c</code>çš„è‡ªç„¶å˜æ¢ï¼Œå°†<code>f</code>æ˜ å°„ä¸º<code>h: a -&gt; m c</code>ï¼Œè€Œæ˜¾ç„¶<code>h</code>ä¹Ÿæ˜¯ä¸€ä¸ªè‡ªå‡½å­ï¼Œæ‰€ä»¥æ»¡è¶³å°é—­æ€§ã€‚ç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯<code>(&gt;&gt;= g) . f = h</code>ã€‚</del></p>
<p>å¯¹äºä»»æ„ä¸¤ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>ä»¥åŠ<code>g: b -&gt; m c</code>ï¼Œé‚£ä¹ˆ<code>f &gt;=&gt; g</code>å¾—åˆ°<code>h: a -&gt; m c</code>çš„è‡ªç„¶å˜æ¢ï¼Œè€Œæ˜¾ç„¶<code>h</code>ä¹Ÿæ˜¯ä¸€ä¸ªè‡ªå‡½å­ï¼Œæ‰€ä»¥æ»¡è¶³å°é—­æ€§ã€‚</p>
<h4 id="ç»“åˆå¾‹"><a href="#ç»“åˆå¾‹" class="headerlink" title="ç»“åˆå¾‹"></a>ç»“åˆå¾‹</h4><p><del>å¯¹äºä»»æ„ä¸‰ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>, <code>g: b -&gt; m c</code>, <code>h: c -&gt; m d</code>ï¼Œå…ˆè€ƒè™‘<code>(f * g) * h</code>çš„é¡ºåºï¼Œè®¡ç®—<code>(&gt;&gt;= h) . ((&gt;&gt;= g) . f) = a - &gt; m d</code>ã€‚å†è€ƒè™‘<code>f * (g * h)</code>çš„é¡ºåºï¼Œè®¡ç®—<code>(&gt;&gt;= (&gt;&gt;= h) . g) . f = a - &gt; m d</code>ã€‚æ‰€ä»¥ç»“åˆå¾‹æˆç«‹ã€‚</del></p>
<p>å¯¹äºä»»æ„ä¸‰ä¸ªè‡ªå‡½å­<code>f: a -&gt; m b</code>, <code>g: b -&gt; m c</code>, <code>h: c -&gt; m d</code>ï¼Œå…ˆè€ƒè™‘<code>(f * g) * h</code>çš„é¡ºåºï¼Œè®¡ç®—<code>(f &gt;=&gt; g) &gt;=&gt; h = a - &gt; m d</code>ã€‚å†è€ƒè™‘<code>f * (g * h)</code>çš„é¡ºåºï¼Œè®¡ç®—<code>f &gt;=&gt; (g &gt;=&gt; h) = a - &gt; m d</code>ã€‚æ‰€ä»¥ç»“åˆå¾‹æˆç«‹ã€‚</p>
<h4 id="å¹ºå…ƒ"><a href="#å¹ºå…ƒ" class="headerlink" title="å¹ºå…ƒ"></a>å¹ºå…ƒ</h4><p><del>é¦–å…ˆéªŒè¯å·¦ç»“åˆå¾‹ã€‚å–ä»»æ„è‡ªå‡½å­<code>f: a -&gt; m b</code>ï¼Œè€ƒè™‘<code>return * f</code>ï¼Œè®¡ç®—<code>(&gt;&gt; f) . return = a -&gt; m b = f</code>ã€‚å·¦ç»“åˆå¾‹æˆç«‹ã€‚å†éªŒè¯å³ç»“åˆå¾‹ï¼Œè€ƒè™‘<code>f * return</code>ï¼Œè®¡ç®—<code>(&gt;&gt;= return) . f = a -&gt; m b = f</code>ï¼Œå³ç»“åˆå¾‹æˆç«‹ã€‚</del></p>
<p>é¦–å…ˆéªŒè¯å·¦ç»“åˆå¾‹ã€‚å–ä»»æ„è‡ªå‡½å­<code>f: a -&gt; m b</code>ï¼Œè€ƒè™‘<code>return * f</code>ï¼Œè®¡ç®—<code>return &gt;=&gt; f = a -&gt; m b = f</code>ã€‚å·¦ç»“åˆå¾‹æˆç«‹ã€‚å†éªŒè¯å³ç»“åˆå¾‹ï¼Œè€ƒè™‘<code>f * return</code>ï¼Œè®¡ç®—<code>f &gt;=&gt; return = a -&gt; m b = f</code>ï¼Œå³ç»“åˆå¾‹æˆç«‹ã€‚</p>
<p>ç»¼ä¸Šï¼Œæˆ‘ä»¬éªŒè¯äº†å®ç°äº†<code>return</code>å’Œ<code>&gt;=&gt;</code>(ä¹Ÿå°±æ˜¯å®ç°äº†<code>return</code>å’Œ<code>&gt;&gt;=</code>)çš„Monadå®ä¾‹ç¡®å®æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ã€‚è¿™é‡Œæˆ‘ä»¬æš‚æ—¶ä¸å†è¯æ˜æ»¡è¶³è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤ä¸€å®šæ˜¯Monadçš„ç»“è®ºã€‚</p>
<h2 id="Monadæœ‰ä»€ä¹ˆç”¨"><a href="#Monadæœ‰ä»€ä¹ˆç”¨" class="headerlink" title="Monadæœ‰ä»€ä¹ˆç”¨"></a>Monadæœ‰ä»€ä¹ˆç”¨</h2><p>è´¹å°½åƒè¾›ä¸‡è‹¦ç»ˆäºç†è§£äº†å¼€å¤´ä¸€å¥è¯çš„æ„æ€ï¼Œä½†ç°åœ¨é¢ä¸´çš„é—®é¢˜æ˜¯å¼•å…¥Monadç©¶ç«Ÿç»™Haskellå¸¦æ¥äº†ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿæ— éæ˜¯è§£å†³éçº¯å‡½æ•°å¸¦æ¥çš„å‰¯ä½œç”¨çš„é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆMonadæ€ä¹ˆè§£å†³å‰¯ä½œç”¨é—®é¢˜å‘¢ï¼Ÿ</p>
<p>åœ¨ç»´åŸºç™¾ç§‘çš„Haskellè¯æ¡ä¸­æœ‰å¦‚ä¸‹æè¿°ï¼š</p>
<blockquote>
<p>å®ƒæ˜¯ä¸€é—¨çº¯å‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€å¤§ä½“ä¸Šï¼ŒHaskellä¸­çš„å‡½æ•°æ²¡æœ‰å‰¯ä½œç”¨ã€‚Haskellç”¨ç‰¹å®šçš„ç±»å‹æ¥è¡¨è¾¾å‰¯ä½œç”¨ï¼Œè¯¥ç±»å‹ä¸å‡½æ•°ç±»å‹ç›¸äº’ç‹¬ç«‹ã€‚çº¯å‡½æ•°å¯ä»¥æ“ä½œå¹¶è¿”å›å¯æ‰§è¡Œçš„å‰¯ä½œç”¨çš„ç±»å‹ï¼Œä½†ä¸èƒ½å¤Ÿæ‰§è¡Œå®ƒä»¬ï¼Œåªæœ‰ç”¨äºè¡¨è¾¾å‰¯ä½œç”¨çš„ç±»å‹æ‰èƒ½æ‰§è¡Œè¿™äº›å‰¯ä½œç”¨ï¼ŒHaskellä»¥æ­¤è¡¨è¾¾å…¶å®ƒè¯­è¨€ä¸­çš„éçº¯å‡½æ•°ã€‚</p>
</blockquote>
<p>æŒ‰ç…§æˆ‘çš„ç†è§£ï¼ŒHaskellå¯¹äºè¿™äº›å¯èƒ½æœ‰å‰¯ä½œç”¨çš„ç±»å‹æ„é€ äº†ç›¸åº”çš„é«˜çº§ç±»å‹<code>Higher Order Type</code>ï¼Œä¹Ÿå°±æ˜¯å½¢æˆäº†å¯¹ç«‹äºæ²¡æœ‰å‰¯ä½œç”¨çš„èŒƒç•´çš„æ–°èŒƒç•´ã€‚è€Œåœ¨è¿™ä¸¤ä¸ªèŒƒç•´ä¹‹é—´ï¼Œé€šè¿‡Monadè”ç³»èµ·æ¥ã€‚è‹¥è®°æ— å‰¯ä½œç”¨èŒƒç•´ä¸ºC1ï¼Œæœ‰å‰¯ä½œç”¨èŒƒç•´ä¸ºC2ã€‚è¿™ç§è”ç³»åªæœ‰ä»C1åˆ°C2çš„å•å‘æ–¹æ³•ä»¥åŠC2çš„å†…éƒ¨æ–¹æ³•ï¼Œä¸å­˜åœ¨ä»C2åˆ°C1çš„æ–¹æ³•ã€‚é€šè¿‡è¿™æ ·çš„è®¾è®¡æ¥éš”ç¦»è¿™ä¸¤ä¸ªèŒƒç•´ã€‚</p>
<p>è¿˜æ˜¯æœ€åˆä»¥å¯¼è‡´Monadå¼•å…¥çš„IOç±»å‹ä½œä¸ºä¾‹å­è¯´æ˜ã€‚</p>
<p>è¿™é‡Œçš„è‡ªå‡½å­ä¸º<code>IO</code>å‡½å­ï¼Œå®ƒå¯¹Monadç±»å‹ç±»çš„å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="haskell">instance Monad IO where
    return x = IO x
    IO x &gt;&gt;= f = f x
</code></pre>
<p>IOæ˜¯æ˜¾ç„¶çš„å…·æœ‰å‰¯ä½œç”¨çš„æ“ä½œã€‚IOç±»å‹å°†è¿™ç§æ“ä½œå°è£…ä¸ºä¸€ç§ç±»å‹ï¼Œ<code>return</code>æ“ä½œæä¾›äº†ä»C1åˆ°C2çš„æ–¹æ³•ï¼Œ<code>&gt;&gt;=</code>æ“ä½œæä¾›äº†C2çš„å†…éƒ¨æ–¹æ³•ã€‚æ›´å‡†ç¡®çš„è¯´æ³•æ˜¯é“å¯å¨ä¸­çš„è¯´æ³•ï¼š<code>return</code>æ˜¯ä¸€ç§æœ€è‡ªç„¶çš„ç±»å‹æå‡ï¼Œä¹Ÿå°±æ˜¯å•ä½å‡½å­ï¼Œ<code>&gt;&gt;=</code>æ˜¯ä¸€ç§é¦–å…ˆçš„ç±»å‹ä¸‹é™ï¼Œä½†æ˜¯ç¡®ä¿äº†ç»“æœè¿˜æ˜¯åœ¨IOç±»å‹çš„èŒƒç•´å½“ä¸­ã€‚</p>
<p>é€šè¿‡Monadçš„æœºåˆ¶ï¼Œç¡®ä¿äº†æœ‰å‰¯ä½œç”¨çš„èŒƒç•´ä¸­çš„æ‰§è¡Œå§‹ç»ˆåœç•™åœ¨æœ‰å‰¯ä½œç”¨çš„èŒƒç•´ä¸­ï¼Œä¸ä¼šå½±å“åŸæ¥çš„ç±»å‹ã€‚</p>
<p>æœ€åæˆ‘æƒ³è¡¥å……ä¸€ç‚¹ï¼ŒMonadæ˜¯å¦‚ä½•è§£å†³æ‰§è¡Œé¡ºåºå¯¹äºæœ‰å‰¯ä½œç”¨å‡½æ•°çš„å½±å“ã€‚æˆ‘çš„ç†è§£æ˜¯<code>&gt;&gt;=</code>å®é™…ä¸Šç±»ä¼¼äºshellä¸­çš„<code>|</code>ï¼Œå®ƒæ„é€ äº†ä¸€ç§ç®¡é“ï¼Œä½¿å¾—å‡½æ•°çš„æ‰§è¡Œæ˜¯æœ‰é¡ºåºçš„ã€‚ä½†æ˜¯è¿™ä¸å¹ºåŠç¾¤çš„ç»“åˆå¾‹æ˜¯å¦çŸ›ç›¾å‘¢ï¼Ÿå¹¶ä¸çŸ›ç›¾ã€‚å› ä¸ºä¾‹å¦‚å¯¹äº<code>m &gt;&gt;= f &gt;&gt;= g ...</code>ä¸­é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåç»­çš„éƒ¨åˆ†åªæ˜¯æ˜ç¡®äº†æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå¹¶æ²¡æœ‰å®é™…çš„è¾“å…¥æ‰§è¡Œï¼Œå¿…é¡»ç­‰åˆ°<code>m</code>è¿›å…¥ç®¡é“åæ‰èƒ½çœŸæ­£å¼€å§‹è®¡ç®—ç»“æœã€‚æ‰€ä»¥ä¸ç»“åˆå¾‹å¹¶ä¸çŸ›ç›¾ã€‚</p>
<p>å¼•ç”¨é“å¯å¨çš„ä¸€å¼ å›¾ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ç†è§£ã€‚</p>
<p><img src="/BlogImages/Monadåˆæ¢/Monad_2.png" alt=""></p>
<!--> åŸæœ¬æˆ‘è§‰å¾—ä¸Šé¢è¿™ä¸€æ®µä¸­æå‡ºæ‰§è¡Œé¡ºåºé—®é¢˜ï¼Œæ˜¯å¯ä»¥åœ¨å‰é¢å…³äºéš”ç¦»ä¸¤ä¸ªèŒƒç•´çš„è®¨è®ºä¸­è§£å†³æ‰çš„ï¼Œä½†æ˜¯å¹¶æ²¡èƒ½å¤ªæƒ³æ¸…æ¥š-->
<h2 id="ç¨‹åºç¤ºä¾‹"><a href="#ç¨‹åºç¤ºä¾‹" class="headerlink" title="ç¨‹åºç¤ºä¾‹"></a>ç¨‹åºç¤ºä¾‹</h2><p>æœ‰é“å¯’å‡å®è·µé¢˜ç›®æ˜¯è°ƒæŸ¥è‡ªå·±çš„å®¶æ—å›¾è°±ã€‚å¦‚æœæˆ‘ä»¬æ„æƒ³äº†ä¸€ä¸ªæ•°æ®ç»“æ„å­˜å‚¨äº†æ‰€æœ‰æ”¶é›†åˆ°çš„å…³äºä¸€ä¸ªæ—è°±çš„ä¿¡æ¯ã€‚ä»å…¶ä¸­æŸä¸€ä¸ªäººå‡ºå‘ï¼Œè¦è·å¾—ä¸ä»–ç›¸å…³çš„ä»»æ„ä¸€ä¸ªäººï¼Œå¯ä»¥ç»è¿‡ä¸€æ­¥æˆ–è€…å¤šæ­¥å¦‚ä¸‹çš„å…³ç³»è·å¾—ï¼šçˆ¶äº²(father)ï¼Œæ¯äº²(mother)ï¼Œä¸ˆå¤«æˆ–å¦»å­(husbandOrWife)ï¼Œé•¿å­æˆ–é•¿å¥³(eldestChild)ï¼Œæœ€å¤§çš„å¼Ÿå¼Ÿæˆ–å¦¹å¦¹(nextChild)</p>
<p>äºæ˜¯æˆ‘æ„é€ äº†å¦‚ä¸‹çš„ä¾‹å­ï¼š</p>
<pre><code class="haskell">data Person = Person String
              deriving Show
father :: Person -&gt; Maybe Person
mother :: Person -&gt; Maybe Person
husbandOrWife :: Person -&gt; Maybe Person
eldestChild :: Person -&gt; Maybe Person
nextChild :: Person -&gt; Maybe Person
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨äº†Monadç±»å‹çš„<code>Maybe</code>ã€‚å®ƒç»™æˆ‘ä»¬å¸¦æ¥äº†ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿç”±äºä¸æ˜¯æ¯ä¸€ä¸ªäººéƒ½æ‹¥æœ‰ä¸Šè¿°äº”ç§å…³ç³»çš„äººï¼Œæˆ–è€…ç”±äºæ—è°±çš„ç¼ºå¤±ï¼Œæ•°æ®ä¸ä¸€å®šå®Œæ•´ã€‚æ‰€ä»¥æœ‰å¯èƒ½ç»è¿‡ä¸Šè¿°æŸä¸€æ­¥æ“ä½œï¼Œæ²¡æœ‰æœŸæœ›çš„ç»“æœã€‚å¦‚æœæˆ‘ä»¬é‡‡ç”¨å¯¹å‡½æ•°ç»“æœè¿›è¡Œåˆ¤æ–­ï¼Œåˆ™ä»£ç ä¼šæ¼”å˜æˆç±»ä¼¼<code>If...else...</code>ç»“æ„å†—é•¿çš„åµŒå¥—ã€‚<code>Maybe</code>ç”±äºå®ç°äº†Monadç±»å‹ï¼Œé€šè¿‡<code>&gt;&gt;=</code>æˆ‘ä»¬å¯ä»¥æ­£å¸¸åœ°å¯»æ‰¾æŸäººï¼Œä¸­é—´è¿‡ç¨‹ä¸ç”¨åŠ ä»¥åˆ¤æ–­ï¼Œå¦‚æœæŸä¸€æ­¥å‡ºç°æ‰¾ä¸åˆ°ï¼Œåˆ™ç»“æœä¼šå˜ä¸º<code>Nothing</code>(ä¸æ˜¯è¯´ä»–ä¸æ˜¯ä¸œè¥¿ã€‚ã€‚ã€‚)ã€‚ç®€ç›´å¤ªæœ‰çˆ±äº†ï¼</p>
<p>ä»èŒƒç•´è§’åº¦æ¥çœ‹ï¼Œç”±äº<code>Maybe</code>ç±»å‹å­˜åœ¨ä¾‹å¤–çš„<code>Nothing</code>çš„æƒ…å†µï¼Œæ‰€ä»¥Monadä½¿å¾—æ¶‰åŠ<code>Maybe</code>çš„æ“ä½œè¢«é™åˆ¶åœ¨<code>Maybe</code>å¯¹åº”çš„èŒƒç•´å†…ï¼Œä»è€Œä½¿ç¨‹åºè®¾è®¡å˜å¾—å®¹æ˜“ã€‚</p>
<p>å†™äº†è¿™ä¹ˆå¤šï¼Œæˆ‘åªæƒ³è¯´ã€‚ã€‚ã€‚å¿ƒå¥½ç´¯ã€‚ã€‚ã€‚</p>
<p><br><br><br><br><br><br><br></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol>
<li>æˆ‘æ‰€ç†è§£çš„monadç³»åˆ—0-5 <a href="http://hongjiang.info/understand-monad-0/" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>é“å¯å¨ <a href="http://zhuoqiang.me/what-is-monad.html" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>è‡ªç„¶å˜æ¢ - ç»´åŸºç™¾ç§‘ <a href="http://zh.wikipedia.org/wiki/è‡ªç„¶è®Šæ›" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>çŸ¥ä¹é—®é¢˜ - å¦‚ä½•è§£é‡ŠHaskellä¸­çš„å•å­ï¼Ÿparker liuçš„å›ç­” <a href="http://www.zhihu.com/question/22291305" target="_blank" rel="noopener">é“¾æ¥</a></li>
<li>Haskell/Understanding Monad <a href="http://en.wikibooks.org/wiki/Haskell/Understanding_monads#Monad_Laws" target="_blank" rel="noopener">é“¾æ¥</a></li>
</ol>

            
        </div>
    
</div>


                
                    <!-- Paradox Post Info -->
                    
                

                <!-- Post Comments -->
                
                    
    <!-- ä½¿ç”¨ gitcoment -->
<div id="gitment-comment">
    <!-- Gitment è¯„è®ºæ¡† -->
<div id="container"></div>
</div>
<style>
    #gitment-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        //id: 'é¡µé¢ ID', // å¯é€‰ã€‚é»˜è®¤ä¸º location.href
        owner: 'LiuTongtong7',
        repo: 'LiuTongtong7.github.io',
        oauth: {
            client_id: 'a572f3ba5e0043836a45',
            client_secret: '28480d50e0ce9524360ca9ae1529c551c5f7f836',
        },
    })
    gitment.render('container')
</script>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2015/02/18/03.Mac | Macå°å·¥å…·é›†é”¦v1-0/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            æ–°ç¯‡
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2014/10/29/01.Python | Pythonå…¥é—¨ç¯‡/" id="post_nav-older" class="next-content">
            æ—§ç¯‡
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==", true)</script>
    







   <!-- Gitment -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('ç”±äº UC æµè§ˆå™¨ä½¿ç”¨ææ—§çš„å†…æ ¸ï¼Œè€Œæœ¬ç½‘ç«™ä½¿ç”¨äº†ä¸€äº›æ–°çš„ç‰¹æ€§ã€‚\nä¸ºäº†æ‚¨èƒ½æ›´å¥½çš„æµè§ˆï¼Œæ¨èä½¿ç”¨ Chrome æˆ– Firefox æµè§ˆå™¨ã€‚');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c Â© Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
